## 개요
호눅스 VPC 강의를 정리한 글.

## VPC의 특징
- 기본 CIDR 블록은 /16
- 테넌시는 하나의 vpc 내에서 시작되는 모든 ec2 인스턴스가 하나의 하드웨어에서 실행되도록 한다.
- vpc는 리전 기반 서비스이다. 서브넷이 AZ 기반 서비스이다.
- **VPC service endpoint**는 vpc 내 없는 다른 서비스를 현재 vpc로 가져올 수 있다. 예를 들어, s3
- vpc를 생성하면 가장 먼저 할 일은 인터넷 게이트웨이를 생성하고 연결해줘야 한다.

## CIDR(사이더) 표기법
- Classless inter-domain Routing
- 클래스 기반 주소의 한계를 극복하고 ip를 분류하기 위해 개발됐다.
- 상위 n 비트는 네트워크 인식, 하위 n 비트는 호스트 인식.

## 서브넷
- 서브넷은 하나의 AZ에 속해야 한다.
- 서브넷은 하나의 라우팅 테이블과 연결되어야 한다.
- 서브넷마다 고유한 NACL를 가진다.
  - NACL(Network access control list)은 VPC에 적용하는 보안 기술이다.
  - 장점은 NACL를 통과하지 못하면 서비스에 도달을 하지 않기 때문에 트래픽 부하를 줄일 수 있다.

## 라우팅 테이블
- 하나의 네트워크가 다른 네트워크의 주소를 가지고 있는 테이블.
- 라우팅 테이블이 있어야 다른 네트워크의 주소를 알기 때문에 소통할 수 있다.

### NAT(Network Address Translation) 인스턴스
- 인터넷 게이트웨이가 연결이 안된 서브넷에서 다른 vpc 내 서비스에 패킷을 전달할 때 사용하는 인스턴스
- 보안 상 인터넷을 연결할 필요없는 서비스에서 이렇게 인터넷을 이용한다.
- 기존 단점은 하나 밖에 연결을 못하기 때문에 트래픽이 과부하 걸릴 가능성이 높다.
- 단점을 보완하기 위해 NAT 게이트웨이 서비스가 생겼다.

## vpc peering
- 같은 리전의 vpc끼리 직접 연결 가능.
